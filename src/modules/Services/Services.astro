---
import Footer from "../../layouts/Footer.astro";
import Header from "../../layouts/Header.astro";
import BackButton from "../../components/UI/BackButton.astro";

// Importaciones NORMALES (no din√°micas)
import First from './components/First/First'
import Second from './components/Second/Second'
import Third from './components/Third/Third'
import FirstStep from './components/FirstStep/FirstStep'
import SecondStep from './components/SecondStep/SecondStep'
import PhoneView from "./shared/components/PhoneView/PhoneView";
import Image from "./shared/components/Image/Image";

const {first_time, notificaciones, toast} = Astro.props
---

<Header notificaciones={notificaciones}/>
<div class="flex flex-col ml-3 mt-2">
    <BackButton routeProp="/"/>
</div>

<div class="flex flex-col items-center w-full px-8">
    <div class="flex flex-col max-w-[1200px] w-full">
        <First client:visible />
        <div class="w-screen relative left-[calc(-50vw+50%)] bg-[#f7ebf9] justify-center align-middle mt-2 mb-2">
            <div class="max-w-[1200px] mx-auto phone:px-8">
                <FirstStep client:visible />
            </div>
        </div>
        
        <Second first_time={first_time?true:false} toast={toast} client:visible />
        
        <div class="w-screen relative left-[calc(-50vw+50%)] bg-[#f7ebf9] justify-center align-middle mt-2 mb-2">
            <div class="max-w-[1200px] mx-auto phone:px-8">
                <SecondStep client:visible />
            </div>
        </div>
        <PhoneView client:visible>
            <Image image="/brain.webp" />
        </PhoneView>
        <Third client:visible />
    </div>
</div>
<Footer/>

<!-- <script>
    import Cookies from "js-cookie"
import { io } from "socket.io-client"

    const getUsername = () => {
      const username = Cookies.get('eons_name')
      if (username) {
        console.log(`User existed ${username}`)
        return username
      }
}

const socket = io('http://localhost:3000/')

socket.on('register',(resp) =>{
    console.log(resp)
})
</script> -->

